<header class="w-100">
    <div class="container-fluid px-md-5 px-3 pt-5 h-100">
        <div class="row  h-100">
            <div class="col-12 d-flex flex-column justify-content-center align-items-start">
                <h1 class="mb-1">Welcome.</h1>
                <h2>Millions of movies, TV shows and people to discover. Explore now.</h2>
            </div>
        </div>
    </div>
</header>
<!-- <section class="mt-1 position-relative">
    <div class="position-absolute filter trending">

    </div>
    <div class="container-fluid px-md-5 px-3 pt-3 ">
        <div class="pb-2 d-flex align-items-center">
            <h3 class="fw-bold me-3">Trending</h3>
            <div class="dg-danger time-window-container d-flex overflow-hidden">
                <span (click)="changeTimeWindow($event)"
                    class="time-window-active px-3 pt-1 fw-bold pointer">Today</span>
                <span (click)="changeTimeWindow($event)" class="px-3 pt-1 fw-bold pointer">This Week</span>
            </div>
        </div>
        <owl-carousel-o [options]="customOptions">

            <ng-container *ngFor="let movie of trendingMovies">
                <ng-template carouselSlide [id]="movie.id">
                    <div class="me-3 rounded overflow-hidden">
                        <div>
                            <img (click)="displayMovieDetails(movie.id, movie.title)" class="rounded pointer"
                                loading="lazy" [src]="imgPrefix+movie.poster_path" [alt]="movie.alt"
                                [title]="movie.title">
                        </div>
                        <div>
                            <div class="rate d-flex justify-content-center align-items-center">
                                <p class="text-white m-0 movie-vote position-relative">{{ceil(movie.vote_average*10)}}
                                    <small class="percent position-absolute top-0">%</small></p>
                            </div>
                        </div>
                        <span (click)="displayMovieDetails(movie.id, movie.title)"
                            class="px-2 text-black  pointer movie-title">{{movie.title}}</span>
                        <span class="px-2 mt-1 text-muted date">{{reformatReleaseDate(movie.release_date)}}</span>
                    </div>
                </ng-template>
            </ng-container>

        </owl-carousel-o>
    </div>
</section> -->


<!-- <section class="mt-1 position-relative">
    <div class="position-absolute filter trending">

    </div>
    <div class="container-fluid px-md-5 px-3 pt-3 ">
        <div class="pb-2 d-flex align-items-center">
            <h3 class="fw-bold me-3">Trending</h3>
            <div class="dg-danger time-window-container d-flex overflow-hidden">
                <span (click)="changeTimeWindow($event)"
                    class="time-window-active px-3 pt-1 fw-bold pointer">Today</span>
                <span (click)="changeTimeWindow($event)" class="px-3 pt-1 fw-bold pointer">This Week</span>
            </div>
        </div>
        <div class="me-3 rounded overflow-hidden">
            <div>
                <img (click)="displayMovieDetails(movie.id, movie.title)" class="rounded pointer" loading="lazy"
                    [src]="imgPrefix+movie.poster_path" [alt]="movie.alt" [title]="movie.title">
            </div>
            <div>
                <div class="rate d-flex justify-content-center align-items-center">
                    <p class="text-white m-0 movie-vote position-relative">{{ceil(movie.vote_average*10)}} <small
                            class="percent position-absolute top-0">%</small></p>
                </div>
            </div>
            <span (click)="displayMovieDetails(movie.id, movie.title)"
                class="px-2 text-black  pointer movie-title">{{movie.title}}</span>
            <span class="px-2 mt-1 text-muted date">{{reformatReleaseDate(movie.release_date)}}</span>
        </div>
    </div>
</section> -->
<section class="my-1 position-relative">
    <!-- <div class="position-absolute filter trending">
    </div> -->
    <div class="container-fluid px-md-5 px-3 pt-3">
        <div class="pb-2 d-flex align-items-center">
            <h3 class="fw-bold me-3">Trending</h3>
            <div class="dg-danger time-window-container d-flex overflow-hidden prevent-select">
                <span (click)="changeTimeWindow($event)"
                    class="time-window-active px-3 pt-1 fw-bold pointer">Today</span>
                <span (click)="changeTimeWindow($event)" class="px-3 pt-1 fw-bold pointer">This Week</span>
            </div>
        </div>
        <div class="row flex-nowrap overflow-auto custom-scrollbar">
            <div class="col-lg-2 col-md-3 col-5" *ngFor="let movie of trendingMovies">
                <div class="me-3 rounded overflow-hidden position-relative">
                    <div (click)="toggleOptions($event)" class="options pointer d-flex justify-content-center align-items-center">
                        <i class="fa-solid fa-ellipsis"></i>
                    </div>
                    <div class="d-none options-list position-absolute rounded p-2 bg-white border overflow-hidden prevent-select">
                        <ul class="p-0 m-0">
                            <li *ngIf="isSignedIn" class="row border-bottom pointer">
                                <small><i class="fa-solid fa-heart me-2 icons"></i>Favorite</small>
                            </li>
                            <li *ngIf="isSignedIn" class="row pt-1 pointer">
                                <small><i class="fa-solid fa-bookmark me-2 icons"></i>Watchlist</small>
                            </li>
                            <li *ngIf="!isSignedIn" class="row pt-1">
                                <small>You have to <span routerLink="/signIn" class="fw-bold pointer">Sign In</span></small>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <img (click)="displayMovieDetails(movie.id, movie.title)" class="rounded pointer w-100" loading="lazy"
                            [src]="imgPrefix+movie.poster_path" [alt]="movie.alt" [title]="movie.title">
                    </div>
                    <div>
                        <!-- <i class="rate-star fa-solid fa-star"></i> -->
                        <div class="rate d-flex justify-content-center align-items-center">
                            <p class="text-white m-0 movie-vote position-relative">{{ceil(movie.vote_average*10)}} <small
                                    class="percent position-absolute top-0">%</small></p>
                        </div>
                    </div>
                    <span (click)="displayMovieDetails(movie.id, movie.title)"
                        class="px-2 text-black  pointer movie-title">{{movie.title}}</span>
                    <span class="px-2 mt-1 text-muted date">{{reformatReleaseDate(movie.release_date)}}</span>
                </div>
            </div>
        </div>
    </div>
</section>
<app-footer></app-footer>